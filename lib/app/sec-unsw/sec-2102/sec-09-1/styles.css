.legend {
  & :is(td, th) { padding: 4px 0 }
  tr > :first-child:is(th) { max-width: 10px }
  th {
    background-color: white;
    color: blue;
    border: 1px dashed blue;
  }
  caption {
    margin-bottom: 8px;
    font-size: var(--fontsize-body-l);
    font-weight: bold;
    color: blue;
  }
}

.footnotes {
  --scale: 0.7;

  animation-name: progress;
  animation-timing-function: steps(5, end);
  animation-direction: alternate;
  animation-duration: 0.25s;
  animation-iteration-count: infinite;

  --background: color-mix(in hsl, yellow calc(100% - (0.2 * var(--a-state))), red);
  --border: color-mix(in hsl, blue var(--a-state), red);
  background: var(--background);
  border-color: var(--border);
  border-width: 2px;
  filter: drop-shadow(4px 0 0 var(--background))
          drop-shadow(-4px 0 0 var(--background))
          drop-shadow(0 4px 0 var(--background))
          drop-shadow(0 -4px 0 var(--background));

  & > h6 {
    font-size: calc(var(--fontsize-math-m) * var(--scale));
    color: yellow;
    background: red;
    padding: 4px;
    margin: 0;
    & > .icon {
      display: inline-block;
      transform-origin: 0.75em 1ex;
      line-height: 1;
      animation-name: progress;
      animation-timing-function: steps(5, end);
      animation-duration: 0.5s;
      animation-iteration-count: infinite;
      transform: rotate(var(--a-deg)) scale(calc(1.5 + 1 * sin(var(--a-deg))));
      margin-right: 16px;
    }
  }
  & > ol > li {
    font-size: calc(var(--fontsize-math-s) * var(--scale));
  }
}

@keyframes progress {
  0% { --a-state: 100%; --a-deg: 0; }
  20% { --a-state: 80%; --a-deg: 72deg; }
  40% { --a-state: 60%; --a-deg: 144deg; }
  60% { --a-state: 40%; --a-deg: 216deg; }
  80% { --a-state: 20%; --a-deg: 288deg; }
  100% { --a-state: 0%; --a-deg: 360deg; }
}

:is(.hour-glass-animation, .globe-animation, .transport-animation)::before {
  height: 1em;
  max-height: 1em;
  vertical-align: center;
  margin-right: 16px;
  display: inline-block;
  animation-iteration-count: infinite;
  filter: drop-shadow(2px 0 0 yellow)
          drop-shadow(-2px 0 0 yellow)
          drop-shadow(0 2px 0 yellow)
          drop-shadow(0 -2px 0 yellow);
}

.globe-animation::before {
  animation-name: around-the-globe;
  animation-duration: 1s;
}

.hour-glass-animation::before {
  animation-name: why-look-at-the-time;
  animation-duration: 3.5s;
}

.transport-animation::before {
  animation-name: vroom-vroom;
  animation-duration: 3.5s;
}

@keyframes around-the-globe {
  0% { content: 'ğŸŒ' }
  33% { content: 'ğŸŒ' }
  66% { content: 'ğŸŒ' }
  100% { content: 'ğŸŒ' }
}

@keyframes why-look-at-the-time {
  0% { content: 'â³â±ï¸' }
  7% { content: 'âŒ›ï¸ğŸ”˜' }
  14% { content: 'ğŸ‘¶ğŸ•' }
  21% { content: 'ğŸ‘¦ğŸ•‘' }
  28% { content: 'ğŸ‘¨ğŸ•’' }
  35% { content: 'ğŸ‘´ğŸ•“' }
  42% { content: 'ğŸ›ŒğŸ•”' }
  50% { content: 'ğŸ›ï¸ğŸ••' }
  57% { content: 'ğŸ’€ğŸ•–' }
  64% { content: 'ğŸª¦ğŸ•—' }
  71% { content: 'ğŸŒ±ğŸ•˜' }
  78% { content: 'ğŸª´ğŸ•™' }
  85% { content: 'ğŸŒ³ğŸ•š' }
  92% { content: 'ğŸª¾ğŸ•›' }
  100% { content: 'â³â±ï¸' }
}

@keyframes vroom-vroom {
  0% { content: 'ğŸš—' }
  7% { content: 'ğŸš•' }
  14% { content: 'ğŸš™' }
  21% { content: 'ğŸšŒ' }
  28% { content: 'ğŸš' }
  35% { content: 'ğŸï¸' }
  42% { content: 'ğŸš“' }
  50% { content: 'ğŸš‘' }
  57% { content: 'ğŸš’' }
  64% { content: 'ğŸš' }
  71% { content: 'ğŸ›»' }
  78% { content: 'ğŸšš' }
  85% { content: 'ğŸš›' }
  93% { content: 'ğŸšœ' }
  100% { content: 'ğŸš—' }
}
